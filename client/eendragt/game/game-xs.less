/**
* game-xs.less
* This document includes the styling for the different screen in extra small modus and inherits up to larger screens.
* @author Tamara LÃ¼tscher, Marco Rieser
* @version 17.0 */

[class*="eendragt-game-"] {
        background-position: center top;
}

.eendragt-game-index,
.eendragt-game-play {

    @amount: 9;
    map {
        &.ng-hide-add.ng-hide-add-active,
        &.ng-hide-remove.ng-hide-remove-active {
            .transition(all 0.3s linear);
        }

        &.ng-hide {
            opacity: 0;
            z-index: 1;
        }

        opacity: 1;
        z-index: 2;
        display: block;
        width: 70%;
        position: fixed;
        .total-center(50%, 57%);

        &.map-1 {
            width: 50%;
            .total-center(61%, 50%);
        }

        &:before {
            content: '';
            display: block;
            height: 0;
            padding-top: 100%;
        }
        .map-inner {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 2;
        }
        .grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url(images/grid.svg) center center no-repeat;
            .background-size(contain);
            z-index: 1;
        }

        field {
            display: block;
            width: percentage(1/@amount);
            height: percentage(1/@amount);
            float: left;
            position: relative;
            background: center center no-repeat;
            .background-size(80% auto);

            &.opened {
                background-image: url(images/water-ripple.svg);
            }

        }

        &.map-0 {
            .map-inner, .grid {
                .transform(rotateX(70deg) rotateZ(-45deg));
            }

            field {
                &.opened.ship {
                    background: none;
                }
            }

        }

        &.map-1 {
            field {
                &.hit {
                    background-image: url(images/cross.svg);
                }
                &.destroyed {
                    background-image: url(images/cross-horizontal.svg);
                    &.v {
                        background-image: url(images/cross-vertical.svg);
                    }
                }
            }
        }

    }

    ship {
        position: absolute;
        display: block;
        left: 0;
        top: 0;
        right: 0;
        background: left bottom no-repeat;
        .background-size(contain);

        // 4 Master vertikal
        &.master4-v {
            @transformation: rotateX(-70deg) rotateZ(10deg);
            &:before {
                content: '';
                padding-top: 297.948717949%;
                display: block;
            }
            &.p0 {
                .transform(@transformation translateY(-26.16129%) translateX(-79.78723404%));
                background-image: url("images/ships/master4-p0-v.png");

                &.hit {
                    background-image: url("images/ships/master4-p0-v-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-54.16129%) translateX(-86.787234%));
                    background-image: url("images/ships/wreck-2-v.png");
                }
            }
            &.p1 {
                .transform(@transformation translateY(-36.010753%) translateX(-71.27659573%));
                background-image: url("images/ships/master4-p1-v.png");

                &.hit {
                    background-image: url("images/ships/master4-p1-v-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-53.010753%) translateX(-80.276596%));
                    background-image: url("images/ships/wreck-3-v.png");
                }

            }
            &.p2 {
                .transform(@transformation translateY(-46.23655914%) translateX(-62.765957447%));
                background-image: url("images/ships/master4-p2-v.png");

                &.hit {
                    background-image: url("images/ships/master4-p2-v-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-54.236559%) translateX(-82.765957%));
                    background-image: url("images/ships/wreck-1-v.png");
                }
            }
            &.p3 {
                .transform(@transformation translateY(-56.272401434%) translateX(-55.319148936%));
                background-image: url("images/ships/master4-p3-v.png");

                &.hit {
                    background-image: url("images/ships/master4-p3-v-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-52.272401%) translateX(-81.319149%));
                    background-image: url("images/ships/wreck-3-v.png");
                }
            }
        }

        // 4 Master horizontal

        &.master4-h {
            @transformation: rotateX(-70deg) rotateZ(20deg);
            &:before {
                content: '';
                padding-top: 349.740932642%;
                display: block;
            }
            &.p0 {
                .transform(@transformation translateY(-56.346749226%) translateX(-152.173913043%));
                background-image: url("images/ships/master4-p0-h.png");

                &.hit {
                    background-image: url("images/ships/master4-p0-h-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-49.346749%) translateX(-121.173913%));
                    background-image: url("images/ships/wreck-2-h.png");
                }
            }
            &.p1 {
                .transform(@transformation translateY(-46.439628483%) translateX(-146.739130435%));
                background-image: url("images/ships/master4-p1-h.png");

                &.hit {
                    background-image: url("images/ships/master4-p1-h-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-49.439628%) translateX(-112.73913%));
                    background-image: url("images/ships/wreck-3-h.png");
                }
            }
            &.p2 {
                .transform(@transformation translateY(-36.222910217%) translateX(-141.304347826%));
                background-image: url("images/ships/master4-p2-h.png");

                &.hit {
                    background-image: url("images/ships/master4-p2-h-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-50.22291%) translateX(-111.304348%));
                    background-image: url("images/ships/wreck-1-h.png");
                }
            }
            &.p3 {
                .transform(@transformation translateY(-26.315789474%) translateX(-135.869565217%));
                background-image: url("images/ships/master4-p3-h.png");

                &.hit {
                    background-image: url("images/ships/master4-p3-h-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-49.315789%) translateX(-114.869565%));
                    background-image: url("images/ships/wreck-3-h.png");
                }
            }
        }

        // 3 Master vertikal

        &.master3-v {
            @transformation: rotateX(-70deg) rotateZ(10deg);
            &:before {
                content: '';
                padding-top: 227.777777778%;
                display: block;
            }
            &.p0 {
                .transform(@transformation translateY(-29.716981132%) translateX(-58.064516129%));
                background-image: url("images/ships/master3-p0-v.png");

                &.hit {
                    background-image: url("images/ships/master3-p0-v-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-50.716981%) translateX(-61.064516%));
                    background-image: url("images/ships/wreck-1-v.png");
                }

            }

            &.p1 {
                .transform(@transformation translateY(-42.924528302%) translateX(-49.462365591%));
                background-image: url("images/ships/master3-p1-v.png");

                &.hit {
                    background-image: url("images/ships/master3-p1-v-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-49.924528%) translateX(-62.462366%));
                    background-image: url("images/ships/wreck-2-v.png");
                }
            }
            &.p2 {
                .transform(@transformation translateY(-56.132075472%) translateX(-40.860215054%));
                background-image: url("images/ships/master3-p2-v.png");

                &.hit {
                    background-image: url("images/ships/master3-p2-v-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-48.132075%) translateX(-52.860215%));
                    background-image: url("images/ships/wreck-1-v.png");
                }
            }
        }

        // 3 Master horizontal

        &.master3-h {
            @transformation: rotateX(-70deg) rotateZ(20deg);
            &:before {
                content: '';
                padding-top: 274.074074074%;
                display: block;
            }
            &.p0 {
                .transform(@transformation translateY(-56.52173913%) translateX(-80.434782609%));
                background-image: url("images/ships/master3-p0-h.png");

                &.hit {
                    background-image: url("images/ships/master3-p0-h-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-46.521739%) translateX(-80.434782609%));
                    background-image: url("images/ships/wreck-3-h.png");
                }
            }

            &.p1 {
                .transform(@transformation translateY(-44.268774704%) translateX(-76.086956522%));
                background-image: url("images/ships/master3-p1-h.png");

                &.hit {
                    background-image: url("images/ships/master3-p1-h-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-48.268775%) translateX(-76.086956522%));
                    background-image: url("images/ships/wreck-2-h.png");
                }
            }
            &.p2 {
                .transform(@transformation translateY(-32.015810277%) translateX(-71.739130435%));
                background-image: url("images/ships/master3-p2-h.png");

                &.hit {
                    background-image: url("images/ships/master3-p2-h-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-49.01581%) translateX(-71.739130435%));
                    background-image: url("images/ships/wreck-1-h.png");
                }
            }
        }

        // 2 Master vertikal

        &.master2-v {
            @transformation: rotateX(-70deg) rotateZ(10deg);
            &:before {
                content: '';
                padding-top: 178.260869565%;
                display: block;
            }
            &.p0 {
                .transform(@transformation translateY(-31.654676259%) translateX(-33.333333333%));
                background-image: url("images/ships/master2-p0-v.png");

                &.hit {
                    background-image: url("images/ships/master2-p0-v-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-41.654676%) translateX(-36.333333%));
                    background-image: url("images/ships/wreck-2-v.png");
                }

            }

            &.p1 {
                .transform(@transformation translateY(-48.920863309%) translateX(-25.641025641%));
                background-image: url("images/ships/master2-p1-v.png");

                &.hit {
                    background-image: url("images/ships/master2-p1-v-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-44.920863%) translateX(-32.641026%));
                    background-image: url("images/ships/wreck-1-v.png");
                }
            }
        }

        // 2 Master horizontal

        &.master2-h {
            @transformation: rotateX(-70deg) rotateZ(20deg);
            &:before {
                content: '';
                padding-top: 211.5%;
                display: block;
            }
            &.p0 {
                .transform(@transformation translateY(-47.272727273%) translateX(-76.923076923%));
                background-image: url("images/ships/master2-p0-h.png");

                &.hit {
                    background-image: url("images/ships/master2-p0-h-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-44.272727%) translateX(-53.923077%));
                    background-image: url("images/ships/wreck-2-h.png");
                }
            }

            &.p1 {
                .transform(@transformation translateY(-30.909090909%) translateX(-71.794871795%));
                background-image: url("images/ships/master2-p1-h.png");

                &.hit {
                    background-image: url("images/ships/master2-p1-h-hit.png");
                }

                &.destroyed {
                    .transform(@transformation translateY(-46.909091%) translateX(-51.794872%));
                    background-image: url("images/ships/wreck-1-h.png");
                }
            }
        }

        &.hit {
            .transition(background 0.4s linear);
        }
    }

}

.eendragt-game-index {
    [class*="plank"] {
        span {
            font-size: 0.22rem;
        }
    }
    .plank-1 {
        .transform(rotate(20deg));
        left: 21%;
        bottom: 8%;
        width: 24%;
        top: auto;
    }
    .plank-2 {
        .transform(rotate(-20deg));
        left: auto;
        right: 2%;
        bottom: 12%;
        width: 30%;
        top: auto;
    }
    .plank-3 {
        .transform(rotate(20deg));
        left: 6.3%;
        bottom: 21%;
        width: 14%;
        top: auto;
    }
}

.eendragt-game-play {
    [class*="plank"] {
        z-index: 0;
        span {
            font-size: 0.22rem;
        }
    }

    .plank-1 {
        .transform(rotate(-20deg));
        left: 2%;
        width: 28%;
        top: 10%;
    }
    .plank-2 {
        .transform(rotate(-20deg));
        left: 4%;
        width: 28%;
        top: 25%;
    }

    .plank-3 {
        .transform(rotate(20deg));
        left: 2%;
        width: 28%;
        top: auto;
        bottom: 10%;

        span {
            font-size: 0.29rem;
            opacity: 1;

            &.ng-hide-add.ng-hide-add-active,
            &.ng-hide-remove.ng-hide-remove-active {
                .transition(all 0.3s linear);
            }

            &.ng-hide {
                opacity: 0;
            }
        }
    }

}

.eendragt-game-victory,
.eendragt-game-doomed {
    .plank-1 {
        .transform(rotate(-15deg));
        left: auto;
        right: 5%;
        width: 37%;
        top: 70%;
    }

    h1 {
        font-size: .8rem;
        line-height: 1.2em;
        margin-bottom: 6%;
        font-family: @font-headline;
        color: @color-gray;
    }

    .game-infos p {
        color: @color-white;
        font-size: .34rem;
        line-height: 1.5em;
        margin-bottom: 4%;
    }

    .game-infos {
        position: fixed;
        top: 0;
        left: 0;
        width: 80%;
        bottom: 0;

        .inner {
            position: absolute;
            top: 3%;
            left: 6%;
            bottom: 3%;
            right: 3%;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
    }
}